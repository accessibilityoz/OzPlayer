/*******************************************************************************
 Copyright (c) 2013-20 AccessibilityOz        http://www.accessibilityoz.com.au/
 ------------------------------------------------------------------------------
 OzPlayer [4.1] => configuration script
 ------------------------------------------------------------------------------
*******************************************************************************/
(function(){

    //enable development settings
    //n.b. it may be helpful to have these true during development
    //then comment them or set to false when the site is published
    //(or just delete them, since both are false by default)
    //OzPlayer.define("alert-on-error",   true);
    //OzPlayer.define("captions-nocache", true);

    //initialise a video player, passing the player ID
    //n.b. you should initialise players as soon as possible after the markup
    //i.e. don't wait for window.onload or DOMContentLoaded or suchlike
    //new OzPlayer.Video("demo");
    OzPlayer.init();

    //Google Analytics
    const ga_options = {
        googleAnalyticsCategory: 'Videos',
        googleAnalyticsEventPlay: 'Play',
        googleAnalyticsEventPause: 'Pause',
        googleAnalyticsEventEnded: 'Ended',
    };

    // add listener for play event
    OzPlayer.addListener('play', function(event) {
        if (typeof ga !== 'undefined') {
            ga('send', 'event', ga_options.googleAnalyticsCategory, ga_options.googleAnalyticsEventPlay, event.media.src, event.media.currentTime);
        }
    });

    // add listener for pause event
    OzPlayer.addListener('pause', function(event) {
        if (typeof ga !== 'undefined') {
            ga('send', 'event', ga_options.googleAnalyticsCategory, ga_options.googleAnalyticsEventPause, event.media.src, event.media.currentTime);
        }
    });

    // add listener for ended event
    OzPlayer.addListener('ended', function(event) {
        if (typeof ga !== 'undefined') {
            ga('send', 'event', ga_options.googleAnalyticsCategory, ga_options.googleAnalyticsEventEnded, event.media.src);
        }
    });

})();
